"use strict";(self.webpackChunkreact_ecommerce=self.webpackChunkreact_ecommerce||[]).push([[454],{7816:function(e,s,t){t.d(s,{T:function(){return l},g:function(){return a}});var a=12;function l(e){return Math.round((null===e||void 0===e?void 0:e.price)*(1-e.discountPercentage/100),2)}},6454:function(e,s,t){t.r(s);var a=t(3433),l=t(1413),r=t(9439),i=t(1087),d=t(9434),n=t(2981),c=t(7689),o=t(1134),m=t(1397),x=t(2791),u=t(6639),g=t(7816),h=t(170),p=t(184);s.default=function(){var e=(0,d.I0)(),s=(0,o.cI)(),t=s.register,y=s.handleSubmit,b=s.reset,j=s.formState.errors,f=(0,d.v9)(m.S8),v=(0,d.v9)(n.a1),N=(0,d.v9)(u.Ib),w=(0,d.v9)(n.MC),k=(0,h.VY)(),C=(0,x.useState)(""),Z=(0,r.Z)(C,2),q=Z[0],F=Z[1],S=v.reduce((function(e,s){return(0,g.T)(s.product)*s.quantity+e}),0),I=v.reduce((function(e,s){return s.quantity+e}),0),P=(0,x.useState)(null),A=(0,r.Z)(P,2),M=A[0],T=A[1],R=(0,x.useState)(null),E=(0,r.Z)(R,2),_=E[0],O=E[1],U=function(e){T(null===f||void 0===f?void 0:f.addresses[e.target.value])},V=function(e){O(e.target.value)};return(0,p.jsxs)(p.Fragment,{children:[!v.length&&w&&(0,p.jsx)(c.Fg,{to:"/",replace:!0})," ",N&&"cash"===N.paymentMethod&&(0,p.jsx)(c.Fg,{to:"/order-success/".concat(N.id),replace:!0}),N&&"card"===N.paymentMethod&&(0,p.jsx)(c.Fg,{to:"/stripe-checkout/",replace:!0}),(0,p.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,p.jsxs)("div",{className:"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-5",children:[(0,p.jsxs)("div",{className:"lg:col-span-3",children:[(0,p.jsx)("form",{className:"bg-white px-5 py-12 mt-12 shadow-sm",noValidate:!0,onSubmit:y((function(s){e((0,m.q0)((0,l.Z)((0,l.Z)({},f),{},{addresses:[].concat((0,a.Z)(null===f||void 0===f?void 0:f.addresses),[s])}))),b()})),children:(0,p.jsxs)("div",{className:"space-y-12",children:[(0,p.jsxs)("div",{className:"border-b border-gray-900/10 pb-12",children:[(0,p.jsx)("h2",{className:"text-2xl font-semibold leading-7 text-gray-900",children:"Personal Information"}),(0,p.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"Use a permanent address where you can receive mail."}),(0,p.jsxs)("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[(0,p.jsxs)("div",{className:"sm:col-span-4",children:[(0,p.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900",children:"Full name"}),(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},t("name",{required:"name is required"})),{},{id:"name",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})),j.name&&(0,p.jsx)("p",{className:"text-red-500",children:j.name.message})]})]}),(0,p.jsxs)("div",{className:"sm:col-span-4",children:[(0,p.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("input",(0,l.Z)((0,l.Z)({id:"email"},t("email",{required:"email is required"})),{},{type:"email",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})),j.email&&(0,p.jsx)("p",{className:"text-red-500",children:j.email.message})]})]}),(0,p.jsxs)("div",{className:"sm:col-span-3",children:[(0,p.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900",children:"Phone"}),(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("input",(0,l.Z)((0,l.Z)({id:"phone"},t("phone",{required:"phone is required"})),{},{type:"tel",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})),j.phone&&(0,p.jsx)("p",{className:"text-red-500",children:j.phone.message})]})]}),(0,p.jsxs)("div",{className:"col-span-full",children:[(0,p.jsx)("label",{htmlFor:"street-address",className:"block text-sm font-medium leading-6 text-gray-900",children:"Street address"}),(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},t("street",{required:"street is required"})),{},{id:"street",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})),j.street&&(0,p.jsx)("p",{className:"text-red-500",children:j.street.message})]})]}),(0,p.jsxs)("div",{className:"sm:col-span-2 sm:col-start-1",children:[(0,p.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-gray-900",children:"City"}),(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},t("city",{required:"city is required"})),{},{id:"city",autoComplete:"address-level2",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})),j.city&&(0,p.jsx)("p",{className:"text-red-500",children:j.city.message})]})]}),(0,p.jsxs)("div",{className:"sm:col-span-2",children:[(0,p.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium leading-6 text-gray-900",children:"State / Province"}),(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},t("state",{required:"state is required"})),{},{id:"state",autoComplete:"address-level1",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})),j.state&&(0,p.jsx)("p",{className:"text-red-500",children:j.state.message})]})]}),(0,p.jsxs)("div",{className:"sm:col-span-2",children:[(0,p.jsx)("label",{htmlFor:"pinCode",className:"block text-sm font-medium leading-6 text-gray-900",children:"ZIP / Postal code"}),(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},t("pinCode",{required:"pinCode is required"})),{},{id:"pinCode",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})),j.pinCode&&(0,p.jsx)("p",{className:"text-red-500",children:j.pinCode.message})]})]})]})]}),(0,p.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,p.jsx)("button",{onClick:function(e){return b()},type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Reset"}),(0,p.jsx)("button",{type:"submit",className:"rounded-md bg-custom-gradient px-3 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-80 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-800",children:"Add Address"})]})]})}),(0,p.jsxs)("div",{className:"border-b border-gray-900/10 pb-12",children:[(0,p.jsxs)("div",{className:"bg-white px-5 py-12 mt-12 shadow-sm",children:[(0,p.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Addresses"}),(0,p.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600 mb-2",children:"Choose from Existing addresses"}),(0,p.jsx)("label",{htmlFor:"address",children:(0,p.jsx)("ul",{children:null===f||void 0===f?void 0:f.addresses.map((function(e,s){return(0,p.jsxs)("li",{className:"flex justify-between gap-x-6 px-5 py-5 border-solid border-t  border-gray-200 bg-white mt-2",children:[(0,p.jsxs)("div",{className:"flex gap-x-4",children:[(0,p.jsx)("input",{onChange:U,name:"address",id:"address",type:"radio",value:s,className:"h-4 w-4 border-gray-300 text-blue-800 focus:ring-blue-800 mt-2"}),(0,p.jsxs)("div",{className:"min-w-0 flex-auto",children:[(0,p.jsx)("p",{className:"text-sm font-semibold leading-6 text-gray-900",children:e.name}),(0,p.jsx)("p",{className:"mt-1 truncate text-xs leading-5 text-gray-500",children:e.street}),(0,p.jsx)("p",{className:"mt-1 truncate text-xs leading-5 text-gray-500",children:e.pinCode})]})]}),(0,p.jsxs)("div",{className:"hidden sm:flex sm:flex-col sm:items-end",children:[(0,p.jsxs)("p",{className:"text-sm leading-6 text-gray-900",children:["Phone: ",e.phone]}),(0,p.jsx)("p",{className:"text-sm leading-6 text-gray-500",children:e.city})]})]},s)}))})})]}),(0,p.jsx)("div",{className:"space-y-10 bg-white px-5 py-12 mt-12 shadow-sm",children:(0,p.jsxs)("fieldset",{children:[(0,p.jsx)("legend",{className:"text-sm font-semibold leading-6 text-gray-900",children:"Payment Methods"}),(0,p.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"Choose One"}),(0,p.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,p.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,p.jsx)("input",{id:"cash",name:"payments",onChange:V,value:"cash",type:"radio",checked:"cash"===_,className:"h-4 w-4 border-gray-300 text-blue-800 focus:ring-blue-800"}),(0,p.jsx)("label",{htmlFor:"cash",className:"block text-sm font-medium leading-6 text-gray-900",children:"Cash on delivery"})]}),(0,p.jsx)("div",{title:"This option is not available now will be available soon",className:"tooltip-container",children:(0,p.jsxs)("div",{className:"flex items-center gap-x-3 hover:cursor-not-allowed",children:[(0,p.jsx)("input",{id:"card",onChange:V,name:"payments",checked:"card"===_,value:"card",type:"radio",disabled:!0,className:"h-4 w-4 border-gray-300 text-blue-800 focus:ring-blue-800 hover:cursor-not-allowed"}),(0,p.jsx)("label",{htmlFor:"card",className:"block text-sm font-medium leading-6 text-gray-600 hover:cursor-not-allowed",children:"Card Payment"})]})})]})]})}),(0,p.jsxs)("div",{className:"bg-white px-5 py-12 mt-12 shadow-sm",children:[(0,p.jsx)("label",{htmlFor:"additional",className:"block text-sm font-medium leading-6 text-gray-900 mb-2 mx-1",children:"Additional Message(optional)"}),(0,p.jsx)("textarea",{placeholder:"Enter your message here",id:"additional",rows:4,onChange:function(e){return F(e.target.value)},className:"block w-full rounded-sm border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-800 sm:text-sm sm:leading-6"})]})]})]}),(0,p.jsx)("div",{className:"lg:col-span-2",children:(0,p.jsxs)("div",{className:"mx-auto mt-12 bg-white max-w-7xl px-2 sm:px-2 lg:px-4",children:[(0,p.jsxs)("div",{className:"border-t border-gray-200 px-0 py-6 sm:px-0",children:[(0,p.jsx)("h1",{className:"text-4xl my-5 font-bold tracking-tight text-gray-900",children:"Cart"}),(0,p.jsx)("div",{className:"flow-root",children:(0,p.jsx)("ul",{className:"-my-6 divide-y divide-gray-200",children:v.map((function(s){var t,l,r;return(0,p.jsxs)("li",{className:"flex py-6",children:[(0,p.jsx)("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:(0,p.jsx)("img",{src:s.product.thumbnail?s.product.thumbnail:s.product.images[0],alt:s.product.title,className:"h-full w-full object-cover object-center"})}),(0,p.jsxs)("div",{className:"ml-4 flex flex-1 flex-col",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[(0,p.jsx)("h3",{children:(0,p.jsx)("a",{href:s.product._id,children:s.product.title})}),(0,p.jsxs)("p",{className:"ml-4",children:["Rs.",(0,g.T)(s.product)]})]}),(0,p.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s.product.brand})]}),(0,p.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[void 0!==(null===s||void 0===s?void 0:s.color)&&(0,p.jsxs)("p",{className:"flex items-center my-1",children:["Color:"," ",(0,p.jsx)("div",{className:"w-5 h-5 rounded-full relative mx-1",style:{backgroundColor:null===s||void 0===s?void 0:s.color}}),(0,p.jsx)("span",{style:{backgroundColor:"rgba(".concat(parseInt(null===s||void 0===s||null===(t=s.color)||void 0===t?void 0:t.slice(1,3),16),", ").concat(parseInt(null===s||void 0===s||null===(l=s.color)||void 0===l?void 0:l.slice(3,5),16),", ").concat(parseInt(null===s||void 0===s||null===(r=s.color)||void 0===r?void 0:r.slice(5,7),16),", 0.5)"),padding:"2px",borderRadius:"5px",color:null===s||void 0===s?void 0:s.color},children:null===s||void 0===s?void 0:s.color})]}),""!==s.subCategory&&(0,p.jsxs)("p",{children:[s.product.subTitle,": ",s.subCategory]})]}),(0,p.jsxs)("div",{className:"flex flex-1 items-end justify-between text-sm",children:[(0,p.jsxs)("div",{className:"text-gray-500",children:[(0,p.jsx)("label",{htmlFor:"quantity",className:"inline mr-5 text-sm font-medium leading-6 text-gray-900",children:"Qty"}),(0,p.jsx)("select",{onChange:function(t){return function(s,t){e((0,n.pk)({id:t.id,quantity:+s.target.value}))}(t,s)},value:s.quantity,children:(0,a.Z)(Array(s.product.stock).keys()).map((function(e){return(0,p.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),(0,p.jsx)("div",{className:"flex",children:(0,p.jsx)("button",{onClick:function(t){return a=s.id,void e((0,n.WX)(a));var a},type:"button",className:"font-medium text-blue-800 hover:text-blue-700",children:"Remove"})})]})]})]},s.id)}))})})]}),(0,p.jsxs)("div",{className:"border-t border-gray-200 px-2 py-6 sm:px-2",children:[(0,p.jsxs)("div",{className:"flex justify-between my-2 text-base font-medium text-gray-900",children:[(0,p.jsx)("p",{children:"Subtotal"}),(0,p.jsxs)("p",{children:["$ ",S]})]}),(0,p.jsxs)("div",{className:"flex justify-between my-2 text-base font-medium text-gray-900",children:[(0,p.jsx)("p",{children:"Total Items in Cart"}),(0,p.jsxs)("p",{children:[I," items"]})]}),(0,p.jsx)("p",{className:"mt-0.5 text-sm text-gray-500",children:"Shipping and taxes calculated at checkout."}),(0,p.jsx)("div",{className:"mt-6",children:(0,p.jsx)("div",{onClick:function(s){if(M&&_){var t={items:v,totalAmount:S,totalItems:I,user:f.id,paymentMethod:_,selectedAddress:M,additionalMessage:q,status:"pending"};e((0,u.uR)(t))}else k.error("Enter Address and Payment method")},className:"flex cursor-pointer items-center justify-center rounded-md border border-transparent bg-custom-gradient px-6 py-3 text-base font-medium text-white shadow-sm hover:opacity-80",children:"Order Now"})}),(0,p.jsx)("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-500",children:(0,p.jsxs)("p",{children:["or",(0,p.jsx)(i.rU,{to:"/",children:(0,p.jsxs)("button",{type:"button",className:"font-medium text-blue-800 hover:text-blue-700 ml-1",children:["Continue Shopping",(0,p.jsx)("span",{"aria-hidden":"true",children:" \u2192"})]})})]})})]})]})})]})})]})}}}]);
//# sourceMappingURL=454.7c301176.chunk.js.map