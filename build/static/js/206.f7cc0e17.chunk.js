"use strict";(self.webpackChunkreact_ecommerce=self.webpackChunkreact_ecommerce||[]).push([[206],{1206:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(4165),a=r(3433),c=r(5861),s=r(9439),i=r(2791),u=r(8333),l=r(6856),o=r(1141),p=r(9129),f=r(1532),d=r(1469),m=r(9434),h=r(4348),g=r(184);function x(){var e=(0,i.useState)(!1),t=(0,s.Z)(e,2),r=t[0],x=t[1],v=(0,i.useState)(),b=(0,s.Z)(v,2),Z=b[0],j=b[1],w=(0,m.I0)(),y=(0,m.v9)(h.Fp),k=(0,i.useState)([]),N=(0,s.Z)(k,2),E=N[0],_=N[1];(0,i.useEffect)((function(){w((0,h.Lu)())}),[w]),(0,i.useEffect)((function(){if(y.length>0){var e=y.map((function(e){return e.image}));_(e)}}),[y]);var S=function(){j(null)};function C(){return(C=(0,c.Z)((0,n.Z)().mark((function e(t){var r,c,s,i,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.files,!(t.target.files.length>0)){e.next=28;break}t.preventDefault(),x(!0),e.prev=4,c=[],s=0;case 7:if(!(s<r.length)){e.next=15;break}return e.next=10,(0,d.c)(r[s]);case 10:i=e.sent,c.push(i);case 12:s++,e.next=7;break;case 15:u=c.map((function(e){return e.url})),_((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(u))})),x(!1),l=c.map((function(e){return e.url})),w((0,h.lA)({images:l})),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),alert.error("Error uploading images: ".concat(e.t0.message)),x(!1);case 26:e.next=29;break;case 28:alert.error("No images selected. Please try again.");case 29:case"end":return e.stop()}}),e,null,[[4,22]])})))).apply(this,arguments)}var F=function(){var e=(0,c.Z)((0,n.Z)().mark((function e(t){var r,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=y[t].id,e.next=4,w((0,h.cf)(r));case 4:(c=(0,a.Z)(E)).splice(t,1),_(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert.error("Error deleting image: ".concat(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,g.jsx)(u.Z,{children:(0,g.jsx)("div",{className:"bg-white p-4",children:(0,g.jsxs)("div",{className:"mt-2 flex gap-2 flex-wrap",children:[(0,g.jsx)(f.ReactSortable,{list:E,setList:function(e){_((0,a.Z)(e))},className:"flex gap-2 flex-wrap",children:!!E.length&&E.map((function(e,t){return(0,g.jsxs)("div",{className:"h-28 relative !cursor-pointer",onMouseEnter:function(){return function(e){j(e)}(t)},onMouseLeave:S,children:[(0,g.jsx)("img",{src:e,alt:t,className:"h-full w-full object-cover transition duration-300 ease-in-out cursor-pointer"}),(0,g.jsx)("div",{className:"w-full h-full bg-[rgba(0,0,0,0.5)] absolute top-0 left-0 opacity-0 transition-opacity duration-300 ".concat(Z===t?"opacity-100":"opacity-0"),children:(0,g.jsx)(l.ZkW,{className:"text-red-500 text-3xl absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 ",onClick:function(){return F(t)}})})]},t)}))}),r&&(0,g.jsx)("div",{className:"w-28 h-28 flex items-center justify-center",children:(0,g.jsx)(o.Z,{color:"#4F46E5"})}),(0,g.jsx)("div",{className:"w-28 h-28 flex items-center justify-center rounded-lg bg-gray-300 cursor-pointer ",children:(0,g.jsxs)("label",{htmlFor:"images",className:"flex items-center justify-center rounded-lg bg-gray-300 cursor-pointer gap-2 w-full h-full",children:[(0,g.jsx)(p.oSY,{className:"w-6 h-6"}),"Upload"]})}),(0,g.jsx)("input",{type:"file",multiple:!0,id:"images",onChange:function(e){return C.apply(this,arguments)},accept:"image/*",hidden:!0})]})})})}},1469:function(e,t,r){r.d(t,{c:function(){return s}});var n=r(4165),a=r(5861),c=r(5294),s=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),r.append("upload_preset","images_presets"),e.prev=3,e.next=6,c.Z.post("https://api.cloudinary.com/v1_1/dh6rm1bj6/image/upload",r);case 6:return a=e.sent,s=a.data,e.abrupt("return",{publicId:null===s||void 0===s?void 0:s.public_id,url:null===s||void 0===s?void 0:s.secure_url});case 11:return e.prev=11,e.t0=e.catch(3),console.error("Error uploading image:",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=206.f7cc0e17.chunk.js.map